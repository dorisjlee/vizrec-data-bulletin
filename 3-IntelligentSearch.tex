%!TEX root = main.tex
\section{Vague and Complex Querying\label{sec:vague}}
\subsection{Challenges}
\par The need for vague and complex querying stems from the inevitable design trade-off between query expressivity and interface usability in interactive data exploration systems~\cite{Morton2014,Jagadish2007}. For example, the \zv interface was unable to support high-level queries that involved the use of vague descriptors for matching to specific data characteristics, such as finding light curves that are flat and `without noise', or patterns that `exhibits irregularities'. While this could be expressed through user-defined functions in underlying querying language ZQL, the learning curve and engineering cost is high.
\par This tradeoff is observed not only in visual data exploration systems, but also true for general ad-hoc data querying. For example, while querying language such as SQL are highly expressive, formulating SQL queries that maps user's high-level intentions to specific query statements is challenging. Therefore, query construction interfaces have been developed to address this issue to enable direct manipulation of queries through graphical representations~\cite{Abouzied2012}, gestural interaction~\cite{Nandi2013}, and tabular inputs~\cite{Zloof1975,Embley1989}. Form-based query builders often consist of highly-usable interfaces that ask users for a specific set of information mapped onto a pre-defined query. However, form-based query builders are often based on query templates with limited expressiveness in their semantic and conceptual coverage, which makes it difficult for expert users to express complex queries. The extensibility of these systems or querying language also comes with the high engineering cost, as well as potentially overloading the users with too many potential options to chose from. There is a need for tools that is enables users to formulate rich and complex queries, yet highly usable even for novices.  
%Most systems design exhibits a trade-off between how expressive can the query be and how usable the interface is. 

% \begin{itemize}
% \item Inferring user intent in querying and context is important (both in terms of user input and what is recommended)
% \item tools can not assume user has querying intention. exploration without intention, user donâ€™t know what they are searching for --> Recommendation.
% \item The important thing here is identifying what should be done by the system v.s. requested from user. Inappropriate choice of these will result in lack of expressibility and user feeling lack of control of analysis, limiting exploration.
% \item 
% \end{itemize}
\subsection{Ongoing research and opportunities}
\par Given the tradeoff between expressivity and usability, we can not assume a one-size-fit-all PVQS that could fit the need for users of different expertise levels and workload. In this section, we discuss a growing class of \textit{intelligent visual querying system} (IVQS) that works around this problem by taking into account  queries of varying degrees of specificity. We describe three different challenges in vague querying. While our analysis is not limited to natural language interfaces, we use this classification scheme to provide an analogy for types of vague queries that an analyst might specify during visual data exploration.
\stitle{Lexical Ambiguity}: Lexical ambiguity involves the use of vague descriptors in the input queries. Our previous example of queries that could not be expressed in the \zv interface showcases one example of lexical ambiguity, where the PVQS can not map the vague term `irregular' or `noisy' into the appropriate series of analysis steps required to find these patterns. \dor{Not sure if its worthwhile to include a couple sentences about Tarique's regex/NLP work here. e.g. the `up and then down' example}. Resolving these lexical ambiguities has been a subject of research in natural language interfaces (NLIs) for visualization specification, such as DataTone~\cite{Gao2015} and Eviza~\cite{Setlur2016}. These NLIs detects ambiguous quantifiers in the input query (e.g. ``Find large earthquakes near California''), and then displays ambiguity widgets in the form of a widget to allow the user to specify what is the definition of `large' in terms of magnitude and how many miles radius do we consider `near'. These ambiguity widgets not only serve as a way to provide feedback to the system for lexically vague queries, but also is a way for displaying interpretable explanations of how the system is interpreting the input queries. An IVQSs can be thought of as a layer on top of PVQS (for functionalities such as shape-matching, filtering), which choses appropriate \textit{parameters} to the PVQS to achieve the user's desired querying effects.
% For example,  NaLIR (explanation through query tree, and display multiple interpretations), Eviza (ambiguity widgets), both Eviza/Iris/Ava (follow on clarification utterances). 
\stitle{Syntactic Ambiguity}: Syntactic ambiguity is related to the vagueness in the specification of how the query should be structured or ordered. For example, DataPlay introduced the idea of syntax non-locality in SQL, in which switching from an existential (at least one) to a universal (for all) quantifier requires major structural changes to the underlying SQL query. They have built a visual interface that allowed users to directly manipulate the structure of the query tree in tweaking the query to its desired specification. IVQSs that resolve syntactic ambiguities either map the vague queries into to \textit{a series of multi-step workflows} to be executed in the PVQS or allow users to tweak the query representation directly. The query specification and tweaking is done in a declarative manner in that the mechanism in which the visualized workflow gets translated to the underlying language is hidden from the end-user. 
\stitle{Semantic Ambiguity}: Semantic ambiguity arises when the user does not specify their intent completely or explicitly, which is often the case in the earlier stages of the visual data exploration. NLIs for visual data exploration such as Evizeon~\cite{Hoque2017} makes use of anaphoric references to fill in incomplete follow-on queries. For example, when a user says `Show me average price by neighborhood', then `by home type', the system interprets the latter partial specification as continuing the context of the original utterance related to average price on the y-axis. Semantic ambiguity can also be thought of as being composed of one or more lexical and syntactical ambiguity. For example, in Iris~\cite{Fast2018}, a user can specify a vague, high-level query such as `Create a classifier', then Iris makes use of nested conversations to inquire about what type of classifier to chose and what features to use in the model to fill in the details of the structure and parameters required, thus resolving the syntactic and semantic ambiguity. A semantically vague query may or may not be expressible through a single PVQS, since the operations involved in the query may not be covered by the limited workflow combinations in the PVQS. 
\dor{Might be good to include three screenshot side-by-side of each of these types of vagueness in querying, situation in which people do vague querying, and systems that tries to address it. Are we allowed to take screenshots from other people's papers or do we need to ask them for permission?}
% Another form of syntactic ambiguity is how  through followup query tweaking 
% nested queries and anaphoric references~\cite{Hoque2017}. Show me relationship between price and -----, then "Break down by -----".
% user intention, composition , Accounting for user interaction, mental models. More global objective taking into account user with the goal of dataset understanding rather than task completion. Need for a unified framework of inference to take all of these into account (e.g. natural language, etc)


%ble to functionalities required to ---- full intent. 

% \stitle{Vague and Ambiguous querying}
 

% \stitle{Recommendation}
% Multimodal visual interfaces, inferring intent from interaction data
% As illustrated in Fig.\ref{system}, these can range from cold-start (no supervision) to input examples, input relations to complete specification.
% \stitle{Complex composition}
% nesting (Ava and Iris)
% In PVQS, the actions are independent of when you do it, when you do them, because they could all be considered as independent series of operations. 

% \par natural language interfaces 
% - joining the flow 
% is a need for an vague or ambiguous specification and global mechanism for ---- nesting ---formulated complex combination. 